# ============================================
# MARKET MI - ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env.local and fill in your API keys.
# The LLM fallback system will automatically use available providers.
#
# FALLBACK ORDER: Groq → OpenRouter → HuggingFace
# Configure at least one provider; all configured providers
# will be used in the fallback chain.
# ============================================

# ============================================
# USER AUTHENTICATION: SUPABASE
# ============================================
# Supabase provides user authentication and data sync.
# Create a free project at https://supabase.com
# - Free tier: 50,000 monthly active users
# - Includes: Auth, Database, Storage
# - Quick setup: 5 minutes
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# ============================================
# PRIMARY LLM PROVIDER: GROQ (Recommended)
# ============================================
# Groq is the fastest free LLM provider with excellent quality.
# - Speed: ~10x faster than OpenAI
# - Free tier: 14,400 requests/day
# - Models: Llama 3.3 70B, Mixtral 8x7B
# Get your API key: https://console.groq.com/keys
VITE_GROQ_API_KEY=your-groq-api-key-here

# ============================================
# FIRST FALLBACK: OPENROUTER
# ============================================
# OpenRouter provides access to multiple free models.
# - Free tier: Varies by model
# - Models: DeepSeek R1, Llama 3.1/3.2, and more
# - Auto-selects best available free model
# Get your API key: https://openrouter.ai/keys
VITE_OPENROUTER_API_KEY=your-openrouter-api-key-here

# ============================================
# SECOND FALLBACK: HUGGING FACE
# ============================================
# HuggingFace Inference API provides open-source models.
# - Free tier: ~1,000 requests/day
# - Models: Zephyr 7B, Mixtral 8x7B
# Get your API key: https://huggingface.co/settings/tokens
VITE_HUGGINGFACE_API_KEY=your-huggingface-api-key-here

# ============================================
# OPTIONAL: OPENAI (Premium)
# ============================================
# OpenAI is not included in the free fallback chain.
# Only use if you have a paid account.
# Get your API key: https://platform.openai.com/api-keys
VITE_OPENAI_API_KEY=your-openai-api-key-here

# ============================================
# WEB RESEARCH APIs (For real-time data)
# ============================================

# Serper - Google Search API
# - Free tier: 2,500 queries/month
# Get your key: https://serper.dev/
VITE_SERPER_API_KEY=your-serper-api-key-here

# Tavily - AI-optimized Search
# - Free tier: 1,000 calls/month
# Get your key: https://tavily.com/
VITE_TAVILY_API_KEY=your-tavily-api-key-here

# ============================================
# SELF-HOSTED SERP SCRAPER (UNLIMITED & FREE)
# ============================================
# Deploy your own Google SERP scraper for unlimited searches.
# See docker/README-SERP-DEPLOYMENT.md for setup instructions.

# Novexity - Primary self-hosted scraper (SerpAPI-compatible)
# Deploy with: docker-compose -f docker/docker-compose.serp.yml up -d
VITE_NOVEXITY_URL=http://your-server:8000
VITE_NOVEXITY_API_KEY=optional-api-key-for-auth

# SearxNG - Fallback metasearch engine
VITE_SEARXNG_URL=http://your-server:8080

# ============================================
# INTEGRATIONS (Optional)
# ============================================

# SendGrid - Email Sending
# Get your key: https://app.sendgrid.com/settings/api_keys
VITE_SENDGRID_API_KEY=your-sendgrid-api-key-here

# WordPress Publishing
VITE_WORDPRESS_URL=https://your-site.com
VITE_WORDPRESS_USER=your-username
VITE_WORDPRESS_APP_PASSWORD=your-app-password

# ============================================
# FALLBACK BEHAVIOR NOTES
# ============================================
# 
# The LLM service automatically handles:
# 
# 1. RATE LIMITS (429)
#    → Immediately switches to next provider
#    → Puts failed provider in 1-minute cooldown
# 
# 2. SERVER ERRORS (500, 502, 503, 504)
#    → Retries once on same provider
#    → Then switches to next provider
# 
# 3. QUOTA EXHAUSTION (402, 403)
#    → Switches to next provider
#    → Puts failed provider in 1-hour cooldown
# 
# 4. ALL PROVIDERS FAIL
#    → Shows friendly message: "Taking a quick breather..."
#    → Waits 2 seconds and retries once
#    → If still failing, shows error to user
# 
# Monitor fallback events in the browser console:
#    [LLM Fallback] Switched from groq to openrouter due to rate limit
# 
# These messages are NEVER shown to end users.
# ============================================
